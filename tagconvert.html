<!DOCTYPE html>
<html><head><title>tagconverter</title>
</head><body>

danbooru input (with the ? and numbers) <textarea id="s"></textarea>


<button onclick="tagmod()">Webui-ize</button>
<button onclick="tagmodbreak()">Webui-ize (BREAK ver)</button>
<button onclick="gelbooru()">Webui-ize (gelbooru)</button>

<script>

danboorunum = / [0-9]+([\.][0-9])?([kM]?)\n/g
danbooruinterr = /\? /g
backn = /\n/g
function gelbooru() {
  //replace each ? for a \n
  document.getElementById("s").value = document.getElementById("s").value.replace(danbooruinterr, "\n? ");
  tagmod();
}

function tagmod() {
document.getElementById("s").value = document.getElementById("s").value + "\n"
  document.getElementById("s").value = document.getElementById("s").value.replace(danboorunum, "\n");
  document.getElementById("s").value = document.getElementById("s").value.replace(danbooruinterr, "");
  document.getElementById("s").value = document.getElementById("s").value.replace(backn, ", ");
  //replace the last comma with a space
  document.getElementById("s").value = document.getElementById("s").value.replace(/, $/, " ");
  //replace the parentheses with an escaped parenthesis [so \( and \)]
  document.getElementById("s").value = document.getElementById("s").value.replace(/\(/g, "\\(");
  document.getElementById("s").value = document.getElementById("s").value.replace(/     /g, " ");
  document.getElementById("s").value = document.getElementById("s").value.replace(/\)/g, "\\)");
  autocopy();
}
function tagmodbreak() {
document.getElementById("s").value = document.getElementById("s").value + "\n"
  document.getElementById("s").value = document.getElementById("s").value.replace(danboorunum, "\n");
  document.getElementById("s").value = document.getElementById("s").value.replace(danbooruinterr, "");
  document.getElementById("s").value = document.getElementById("s").value.replace(backn, " BREAK ");
  //replace the last comma with a space
  document.getElementById("s").value = document.getElementById("s").value.replace(/, $/, " ");
  //replace the parentheses with an escaped parenthesis [so \( and \)] `,     `
  document.getElementById("s").value = document.getElementById("s").value.replace(/\(/g, "\\(");
  document.getElementById("s").value = document.getElementById("s").value.replace(/     /g, " ");
  document.getElementById("s").value = document.getElementById("s").value.replace(/\)/g, "\\)");
  autocopy();
}

function autocopy() {
  var copyText = document.getElementById("s");
  copyText.select();
  // copy the text to the user's clipboard
  document.execCommand("copy");
  // alert("Copied the text: " + copyText.value);
}
</script>
<style>
@import url('https://fonts.googleapis.com/css2?family=Open+Sans&display=swap');
body {
font-family: 'Open Sans', sans-serif;
}
textarea {
  width: 100%;
  height: 700px;
  padding: 12px 20px;
  box-sizing: border-box;
  border: 2px solid #ccc;
  border-radius: 4px;
  background-color: #f8f8f8;
  font-size: 12px;
font-family: 'Open Sans', sans-serif;
  resize: none;
}
button {
  background-color: #4CAF50;
  border: none;
  color: white;
  padding: 15px 32px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 16px;
}
</style>


</body></html>
